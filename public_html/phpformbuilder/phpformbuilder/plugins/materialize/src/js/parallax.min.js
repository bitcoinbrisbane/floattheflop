!function(e){"use strict";let t={responsiveThreshold:0};class a extends Component{constructor(t,l){super(a,t,l),this.el.M_Parallax=this,this.options=e.extend({},a.defaults,l),this._enabled=window.innerWidth>this.options.responsiveThreshold,this.$img=this.$el.find("img").first(),this.$img.each(function(){this.complete&&e(this).trigger("load")}),this._updateParallax(),this._setupEventHandlers(),this._setupStyles(),a._parallaxes.push(this)}static get defaults(){return t}static init(e,t){return super.init(this,e,t)}static getInstance(e){return(e.jquery?e[0]:e).M_Parallax}destroy(){a._parallaxes.splice(a._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}static _handleScroll(){for(let e=0;e<a._parallaxes.length;e++){let t=a._parallaxes[e];t._updateParallax.call(t)}}static _handleWindowResize(){for(let e=0;e<a._parallaxes.length;e++){let t=a._parallaxes[e];t._enabled=window.innerWidth>t.options.responsiveThreshold}}_setupEventHandlers(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===a._parallaxes.length&&(a._handleScrollThrottled=M.throttle(a._handleScroll,5),window.addEventListener("scroll",a._handleScrollThrottled),a._handleWindowResizeThrottled=M.throttle(a._handleWindowResize,5),window.addEventListener("resize",a._handleWindowResizeThrottled))}_removeEventHandlers(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===a._parallaxes.length&&(window.removeEventListener("scroll",a._handleScrollThrottled),window.removeEventListener("resize",a._handleWindowResizeThrottled))}_setupStyles(){this.$img[0].style.opacity=1}_handleImageLoad(){this._updateParallax()}_updateParallax(){let e=this.$el.height()>0?this.el.parentNode.offsetHeight:500,t=this.$img[0].offsetHeight-e,a=this.$el.offset().top+e,l=this.$el.offset().top,s=M.getDocumentScrollTop(),i=window.innerHeight,n=t*((s+i-l)/(e+i));this._enabled?a>s&&l<s+i&&(this.$img[0].style.transform=`translate3D(-50%, ${n}px, 0)`):this.$img[0].style.transform=""}}a._parallaxes=[],M.Parallax=a,M.jQueryLoaded&&M.initializeJqueryWrapper(a,"parallax","M_Parallax")}(cash);