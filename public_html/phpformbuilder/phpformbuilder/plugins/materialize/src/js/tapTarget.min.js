!function(t){"use strict";let e={onOpen:void 0,onClose:void 0};class i extends Component{constructor(e,n){super(i,e,n),this.el.M_TapTarget=this,this.options=t.extend({},i.defaults,n),this.isOpen=!1,this.$origin=t("#"+this.$el.attr("data-target")),this._setup(),this._calculatePositioning(),this._setupEventHandlers()}static get defaults(){return e}static init(t,e){return super.init(this,t,e)}static getInstance(t){return(t.jquery?t[0]:t).M_TapTarget}destroy(){this._removeEventHandlers(),this.el.TapTarget=void 0}_setupEventHandlers(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);let t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}_removeEventHandlers(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}_handleTargetClick(t){this.open()}_handleOriginClick(t){this.close()}_handleResize(t){this._calculatePositioning()}_handleDocumentClick(e){t(e.target).closest(".tap-target-wrapper").length||(this.close(),e.preventDefault(),e.stopPropagation())}_setup(){this.wrapper=this.$el.parent()[0],this.waveEl=t(this.wrapper).find(".tap-target-wave")[0],this.originEl=t(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],t(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(t(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}_calculatePositioning(){let e="fixed"===this.$origin.css("position");if(!e){let i=this.$origin.parents();for(let n=0;n<i.length&&!(e="fixed"==t(i[n]).css("position"));n++);}let i=this.$origin.outerWidth(),n=this.$origin.outerHeight(),s=e?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,o=e?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,r=window.innerWidth,h=window.innerHeight,l=r/2,a=h/2,d=o<=l,p=o>l,c=s<=a,g=s>a,u=o>=.25*r&&o<=.75*r,v=this.$el.outerWidth(),E=this.$el.outerHeight(),w=s+n/2-E/2,_=o+i/2-v/2,m=e?"fixed":"absolute",f=u?v:v/2+i,k=E/2,C=c?E/2:0,x=d&&!u?v/2-i:0,T=i,$=g?"bottom":"top",L=2*i,B=L,b=E/2-B/2,O=v/2-L/2,y={};y.top=c?w+"px":"",y.right=p?r-_-v+"px":"",y.bottom=g?h-w-E+"px":"",y.left=d?_+"px":"",y.position=m,t(this.wrapper).css(y),t(this.contentEl).css({width:f+"px",height:k+"px",top:C+"px",right:"0px",bottom:"0px",left:x+"px",padding:T+"px",verticalAlign:$}),t(this.waveEl).css({top:b+"px",left:O+"px",width:L+"px",height:B+"px"})}open(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}close(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}M.TapTarget=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tapTarget","M_TapTarget")}(cash);