!function(e,t){typeof exports==='object'&&typeof module!=='undefined'?module.exports=t():typeof define==='function'&&define.amd?define(t):(e.FormValidation=e.FormValidation||{}, e.FormValidation.plugins=e.FormValidation.plugins||{}, e.FormValidation.plugins.StartEndDate=t())}(this,(function(){"use strict";var e=FormValidation.Plugin,t=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}},a=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1;n.configurable=!0;"value" in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,a,n){a&&e(t.prototype,a);n&&e(t,n);return t}}(),n=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},i=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e},o=function(e){n(o,e);function o(e){t(this,o);var a=i(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));a.fieldValidHandler=a.onFieldValid.bind(a);a.fieldInvalidHandler=a.onFieldInvalid.bind(a);return a}a(o,[{key:'install',value:function(){var e=this,t=this.core.getFields();this.startDateFieldOptions=t[this.opts.startDate.field];this.endDateFieldOptions=t[this.opts.endDate.field];var a=this.core.getFormElement();this.core.on('core.field.valid',this.fieldValidHandler).on('core.field.invalid',this.fieldInvalidHandler).addField(this.opts.startDate.field,{validators:{date:{format:this.opts.format,max:function(){var t=a.querySelector('[name="'+e.opts.endDate.field+'"]');return t.value},message:this.opts.startDate.message}}}).addField(this.opts.endDate.field,{validators:{date:{format:this.opts.format,message:this.opts.endDate.message,min:function(){var t=a.querySelector('[name="'+e.opts.startDate.field+'"]');return t.value}}}})}},{key:'uninstall',value:function(){this.core.removeField(this.opts.startDate.field);this.startDateFieldOptions&&this.core.addField(this.opts.startDate.field,this.startDateFieldOptions);this.core.removeField(this.opts.endDate.field);this.endDateFieldOptions&&this.core.addField(this.opts.endDate.field,this.endDateFieldOptions);this.core.off('core.field.valid',this.fieldValidHandler).off('core.field.invalid',this.fieldInvalidHandler)}},{key:'onFieldInvalid',value:function(e){switch(e){case this.opts.startDate.field:this.startDateValid=!1;break;case this.opts.endDate.field:this.endDateValid=!1;break;default:break}}},{key:'onFieldValid',value:function(e){switch(e){case this.opts.startDate.field:this.startDateValid=!0;this.endDateValid===!1&&this.core.revalidateField(this.opts.endDate.field);break;case this.opts.endDate.field:this.endDateValid=!0;this.startDateValid===!1&&this.core.revalidateField(this.opts.startDate.field);break;default:break}}}]);return o}(e);return o}))