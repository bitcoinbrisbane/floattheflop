!function(e,n){typeof exports==='object'&&typeof module!=='undefined'?module.exports=n():typeof define==='function'&&define.amd?define(n):(e.FormValidation=e.FormValidation||{}, e.FormValidation.plugins=e.FormValidation.plugins||{}, e.FormValidation.plugins.Mailgun=n())}(this,(function(){"use strict";var e=FormValidation.Plugin,n=FormValidation.plugins.Alias,t=function(e,n){if(!(e instanceof n)){throw new TypeError("Cannot call a class as a function")}},i=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1;i.configurable=!0;"value" in i&&(i.writable=!0);Object.defineProperty(e,i.key,i)}}return function(n,t,i){t&&e(n.prototype,t);i&&e(n,i);return n}}(),o=function(e,n){if(typeof n!=="function"&&n!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof n)}e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},s=function(e,n){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n&&(typeof n==="object"||typeof n==="function")?n:e},a=function(e){o(a,e);function a(e){t(this,a);var n=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));n.opts=Object.assign({},{suggestion:!1},e);n.messageDisplayedHandler=n.onMessageDisplayed.bind(n);return n}i(a,[{key:'install',value:function(){this.opts.suggestion&&this.core.on('plugins.message.displayed',this.messageDisplayedHandler);var e={mailgun:'remote'};this.core.registerPlugin('___mailgunAlias',new n(e)).addField(this.opts.field,{validators:{mailgun:{crossDomain:!0,data:{api_key:this.opts.apiKey},headers:{'Content-Type':'application/json'},message:this.opts.message,name:'address',url:'https://api.mailgun.net/v3/address/validate',validKey:'is_valid'}}})}},{key:'uninstall',value:function(){this.opts.suggestion&&this.core.off('plugins.message.displayed',this.messageDisplayedHandler);this.core.removeField(this.opts.field)}},{key:'onMessageDisplayed',value:function(e){e.field===this.opts.field&&'mailgun'===e.validator&&e.meta&&e.meta.did_you_mean&&(e.messageElement.innerHTML='Did you mean '+e.meta.did_you_mean+'?')}}]);return a}(e);return a}))