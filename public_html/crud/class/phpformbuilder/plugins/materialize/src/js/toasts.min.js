!function(t,e){"use strict";let s={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8};class a{constructor(e){this.options=t.extend({},a.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===a._toasts.length&&a._createContainer(),a._toasts.push(this);let s=this._createToast();s.M_Toast=this,this.el=s,this.$el=t(s),this._animateIn(),this._setTimer()}static get defaults(){return s}static getInstance(t){return(t.jquery?t[0]:t).M_Toast}static _createContainer(){let t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",a._onDragStart),t.addEventListener("touchmove",a._onDragMove),t.addEventListener("touchend",a._onDragEnd),t.addEventListener("mousedown",a._onDragStart),document.addEventListener("mousemove",a._onDragMove),document.addEventListener("mouseup",a._onDragEnd),document.body.appendChild(t),a._container=t}static _removeContainer(){document.removeEventListener("mousemove",a._onDragMove),document.removeEventListener("mouseup",a._onDragEnd),t(a._container).remove(),a._container=null}static _onDragStart(e){if(e.target&&t(e.target).closest(".toast").length){let s=t(e.target).closest(".toast")[0].M_Toast;s.panning=!0,a._draggedToast=s,s.el.classList.add("panning"),s.el.style.transition="",s.startingXPos=a._xPos(e),s.time=Date.now(),s.xPos=a._xPos(e)}}static _onDragMove(t){if(a._draggedToast){t.preventDefault();let e=a._draggedToast;e.deltaX=Math.abs(e.xPos-a._xPos(t)),e.xPos=a._xPos(t),e.velocityX=e.deltaX/(Date.now()-e.time),e.time=Date.now();let s=e.xPos-e.startingXPos,n=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform=`translateX(${s}px)`,e.el.style.opacity=1-Math.abs(s/n)}}static _onDragEnd(){if(a._draggedToast){let t=a._draggedToast;t.panning=!1,t.el.classList.remove("panning");let e=t.xPos-t.startingXPos,s=t.el.offsetWidth*t.options.activationPercent;Math.abs(e)>s||t.velocityX>1?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),a._draggedToast=null}}static _xPos(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}static dismissAll(){for(let t in a._toasts)a._toasts[t].dismiss()}_createToast(){let e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&t(e).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?t(e).append(this.message[0]):e.innerHTML=this.message,a._container.appendChild(e),e}_animateIn(){e({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}_setTimer(){this.timeRemaining!==1/0&&(this.counterInterval=setInterval(()=>{this.panning||(this.timeRemaining-=20),this.timeRemaining<=0&&this.dismiss()},20))}dismiss(){window.clearInterval(this.counterInterval);let t=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform=`translateX(${t}px)`,this.el.style.opacity=0),e({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:()=>{"function"==typeof this.options.completeCallback&&this.options.completeCallback(),this.$el.remove(),a._toasts.splice(a._toasts.indexOf(this),1),0===a._toasts.length&&a._removeContainer()}})}}a._toasts=[],a._container=null,a._draggedToast=null,M.Toast=a,M.toast=function(t){return new a(t)}}(cash,M.anime);