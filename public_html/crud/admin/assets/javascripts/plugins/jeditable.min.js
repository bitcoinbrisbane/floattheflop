!function($){$.fn.editable=function(t,e){if("disable"!=t)if("enable"!=t){if("destroy"!=t){var i=$.extend({},$.fn.editable.defaults,{target:t},e),a=$.editable.types[i.type].plugin||function(){},n=$.editable.types[i.type].submit||function(){},l=$.editable.types[i.type].buttons||$.editable.types.defaults.buttons,s=$.editable.types[i.type].content||$.editable.types.defaults.content,o=$.editable.types[i.type].element||$.editable.types.defaults.element,d=$.editable.types[i.type].reset||$.editable.types.defaults.reset,r=i.callback||function(){},c=i.onedit||function(){},u=i.onsubmit||function(){},p=i.onreset||function(){},h=i.onerror||d;return i.tooltip&&$(this).attr("title",i.tooltip),i.autowidth="none"==i.width,i.autoheight="none"==i.height,this.each(function(){var t=this,e=$(t).width(),f=$(t).height();$(this).data("event.editable",i.event),$.trim($(this).html())||$(this).html(i.placeholder),$(this).bind(i.event,function(p){if(!0!==$(this).data("disabled.editable")&&!t.editing&&!1!==c.apply(this,[i,t])){p.preventDefault(),p.stopPropagation(),i.tooltip&&$(t).removeAttr("title"),0==$(t).width()?(i.width=e,i.height=f):("none"!=i.width&&(i.width=i.autowidth?$(t).width():i.width),"none"!=i.height&&(i.height=i.autoheight?$(t).height():i.height)),$(this).html().toLowerCase().replace(/(;|")/g,"")==i.placeholder.toLowerCase().replace(/(;|")/g,"")&&$(this).html(""),t.editing=!0,t.revert=$(t).html(),$(t).html("");var m=$("<form />");i.cssclass&&("inherit"==i.cssclass?m.attr("class",$(t).attr("class")):m.attr("class",i.cssclass)),i.style&&("inherit"==i.style?(m.attr("style",$(t).attr("style")),m.css("display",$(t).css("display"))):m.attr("style",i.style));var b,y=o.apply(m,[i,t]);if(i.loadurl){var v=setTimeout(function(){y.disabled=!0,s.apply(m,[i.loadtext,i,t])},100),g={};g[i.id]=t.id,$.isFunction(i.loaddata)?$.extend(g,i.loaddata.apply(t,[t.revert,i])):$.extend(g,i.loaddata),$.ajax({type:i.loadtype,url:i.loadurl,data:g,async:!1,success:function(t){window.clearTimeout(v),b=t,y.disabled=!1}})}else i.data?(b=i.data,$.isFunction(i.data)&&(b=i.data.apply(t,[t.revert,i]))):b=t.revert;s.apply(m,[b,i,t]),y.attr("name",i.name),l.apply(m,[i,t]),$(t).append(m),a.apply(m,[i,t]),$(":input:visible:enabled:first",m).focus(),i.select&&y.select(),y.keydown(function(e){27==e.keyCode&&(e.preventDefault(),d.apply(m,[i,t]))});"cancel"==i.onblur?y.blur(function(e){v=setTimeout(function(){d.apply(m,[i,t])},500)}):"submit"==i.onblur?y.blur(function(t){v=setTimeout(function(){m.submit()},200)}):$.isFunction(i.onblur)?y.blur(function(e){i.onblur.apply(t,[y.val(),i])}):y.blur(function(t){}),m.submit(function(e){if(v&&clearTimeout(v),e.preventDefault(),!1!==u.apply(m,[i,t])&&!1!==n.apply(m,[i,t]))if($.isFunction(i.target)){var a=i.target.apply(t,[y.val(),i]);$(t).html(a),t.editing=!1,r.apply(t,[t.innerHTML,i]),$.trim($(t).html())||$(t).html(i.placeholder)}else{var l={};l[i.name]=y.val(),l[i.id]=t.id,$.isFunction(i.submitdata)?$.extend(l,i.submitdata.apply(t,[t.revert,i])):$.extend(l,i.submitdata),"PUT"==i.method&&(l._method="put"),$(t).html(i.indicator);var s={type:"POST",data:l,dataType:"html",url:i.target,success:function(e,a){"html"==s.dataType&&$(t).html(e),t.editing=!1,r.apply(t,[e,i]),$.trim($(t).html())||$(t).html(i.placeholder)},error:function(e,a,n){h.apply(m,[i,t,e])}};$.extend(s,i.ajaxoptions),$.ajax(s)}return $(t).attr("title",i.tooltip),!1})}}),this.reset=function(e){this.editing&&!1!==p.apply(e,[i,t])&&($(t).html(t.revert),t.editing=!1,$.trim($(t).html())||$(t).html(i.placeholder),i.tooltip&&$(t).attr("title",i.tooltip))}})}$(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable")}else $(this).data("disabled.editable",!1);else $(this).data("disabled.editable",!0)},$.editable={types:{defaults:{element:function(t,e){var i=$('<input type="hidden"></input>');return $(this).append(i),i},content:function(t,e,i){$(":input:first",this).val(t)},reset:function(t,e){e.reset(this)},buttons:function(t,e){var i=this;if(t.submit&&t.cancel)var a=$('<div class="btn-group"></div>');else a=$("<div></div>");if($(this).append(a),t.submit){if(t.submit.match(/>$/))var n=$(t.submit).click(function(){"submit"!=n.attr("type")&&i.submit()});else{(n=$('<button type="submit" class="btn btn-primary btn-xs mt-5" />')).html(t.submit)}$(a).append(n)}if(t.cancel){if(t.cancel.match(/>$/))var l=$(t.cancel);else{(l=$('<button type="cancel" class="btn btn-warning btn-xs mt-5" />')).html(t.cancel)}$(a).append(l),$(l).click(function(a){if($.isFunction($.editable.types[t.type].reset))var n=$.editable.types[t.type].reset;else n=$.editable.types.defaults.reset;return n.apply(i,[t,e]),!1})}}},text:{element:function(t,e){var i=$("<input />").attr("class","form-control");return i.attr("autocomplete","off"),$(this).append(i),i}},textarea:{element:function(t,e){var i=$("<textarea />");return t.rows?i.attr("rows",t.rows):"none"!=t.height&&i.height(t.height),t.cols?i.attr("cols",t.cols):"none"!=t.width&&i.width(t.width),$(this).append(i),i}},select:{element:function(t,e){var i=$("<select />");return $(this).append(i),i},content:function(data,settings,original){if(String==data.constructor)eval("var json = "+data);else var json=data;for(var key in json)if(json.hasOwnProperty(key)&&"selected"!=key){var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}$("select",this).children().each(function(){$(this).val()!=json.selected&&$(this).text()!=$.trim(original.revert)||$(this).attr("selected","selected")})},plugin:function(t,e){var i=this,a=i.find("select");t.onblur="nothing",select2={theme:"clean",width:"100%",onSelect:function(){i.submit()},onClose:function(){setTimeout(function(){a.is(":focus")?i.submit():e.reset(i)},150)}},t.select2&&jQuery.extend(select2,t.select2),a.select2(select2)}}},addInputType:function(t,e){$.editable.types[t]=e}},$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}}(jQuery),$.editable.addInputType("datepicker",{element:function(t,e){var i=$(this),a=$("<input />");return a.attr("autocomplete","off"),i.append(a),a},plugin:function(t,e){var i=this,a=i.find("input");t.onblur="nothing",datepicker={dateFormat:"yy-mm-dd",onSelect:function(){i.submit()},onClose:function(){setTimeout(function(){a.is(":focus")?i.submit():e.reset(i)},150)}},t.datepicker&&jQuery.extend(datepicker,t.datepicker),a.datepicker(datepicker)}}),$.editable.addInputType("pickadate",{element:function(t,e){var i=$(this),a=$("<input />");return"undefined"!=$(e).attr("data-value")&&a.attr("data-value",$(e).attr("data-value")),a.attr("autocomplete","off"),i.append(a),a},plugin:function(t,e){var i=this,a=i.find("input");t.onblur="nothing",pickadate={formatSubmit:"yyyy-mm-dd",onOpen:function(){$(".mCSB_container")[0]&&$(".mCSB_container").css("overflow","visible")},onSet:function(t){"object"==typeof t.clear&&null==t.clear&&($(a).val(""),i.submit()),"number"==typeof t.select&&i.submit()},onClose:function(){$(".mCSB_container")[0]&&$(".mCSB_container").css("overflow","hidden"),setTimeout(function(){a.is(":focus")?i.submit():e.reset(i)},150)}},t.pickadate&&jQuery.extend(pickadate,t.pickadate),a.pickadate(pickadate)}});